{"ast":null,"code":"import React from \"react\";\nimport axios from \"axios\";\nexport const API_URL = 'https://warm-refuge-39778.herokuapp.com';\nexport function setToken(token) {\n  localStorage.setItem('token', token);\n}\nexport function getToken() {\n  return localStorage.getItem('token');\n}\nexport function makeHeader() {\n  if (getToken()) {\n    return {\n      'Content-Type': 'Application/JSON',\n      'Authorization': `Bearer ${getToken()}`\n    };\n  } else {\n    return {\n      'Content-Type': 'Application/JSON'\n    };\n  }\n}\nexport async function signUp(username, password) {\n  try {\n    const response = await fetch(`${API_URL}/api/users/register`, {\n      method: \"POST\",\n      headers: makeHeader(),\n      body: JSON.stringify({\n        user: {\n          username,\n          password\n        }\n      })\n    });\n    const responseObj = await response.json();\n    console.log('responseObjSignUp', responseObj);\n\n    if (responseObj && responseObj.data.token) {\n      setToken(responseObj.data.token);\n    }\n  } catch (error) {\n    console.error(error);\n  }\n}\nexport async function signIn(username, password) {\n  try {\n    const response = await fetch(`${API_URL}/api/users/login`, {\n      method: \"POST\",\n      headers: makeHeader(),\n      body: JSON.stringify({\n        user: {\n          username,\n          password\n        }\n      })\n    });\n    const responseObj = await response.json();\n    console.log('responseObjSignIn', responseObj);\n\n    if (responseObj.data) {\n      setToken(responseObj.data.token);\n    }\n  } catch (error) {\n    console.error(error);\n  }\n}\nexport async function fetchUserData() {\n  try {\n    const response = await fetch(`${API_URL}/users/me`, {\n      header: makeHeader()\n    });\n    const responseObj = await response.json();\n    console.log('responseObjUserData', responseObj);\n  } catch (error) {\n    console.error(error);\n  }\n}\nexport async function fetchActivities() {\n  try {\n    const response = await fetch(`${API_URL}/api/activities`);\n    const data = await response.json();\n    console.log('data', data);\n  } catch (error) {\n    console.error(error);\n  }\n}\nfetchActivities(); // export async function createActivity() {\n// }","map":{"version":3,"sources":["/Users/laurencereeds/Desktop/course_work/UNIV_FitnessTrackr_React_Starter/src/api/index.js"],"names":["React","axios","API_URL","setToken","token","localStorage","setItem","getToken","getItem","makeHeader","signUp","username","password","response","fetch","method","headers","body","JSON","stringify","user","responseObj","json","console","log","data","error","signIn","fetchUserData","header","fetchActivities"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport axios from \"axios\";\n\nexport const API_URL = 'https://warm-refuge-39778.herokuapp.com';\n\n\nexport function setToken(token) {\n    localStorage.setItem('token', token);\n}\n\nexport function getToken() {\n    return localStorage.getItem('token');\n}\n\nexport function makeHeader() {\n    if (getToken()) {\n        return {'Content-Type': 'Application/JSON',\n        'Authorization': `Bearer ${getToken()}`}\n    } else {\n        return {'Content-Type': 'Application/JSON'}\n    }\n}\n\nexport async function signUp(username, password) {\n    try {\n        const response = await fetch(`${API_URL}/api/users/register`, {\n          method: \"POST\",\n          headers: makeHeader(),\n          body: JSON.stringify({\n            user: {\n              username,\n              password\n              }\n            })\n          })\n          const responseObj = await response.json();\n          console.log('responseObjSignUp', responseObj)\n      \n          if (responseObj && responseObj.data.token) {\n          setToken(responseObj.data.token); \n        }  \n        } catch(error){\n          console.error(error);\n        }\n}\n\nexport async function signIn(username, password) {\n    try {\n        const response = await fetch(`${API_URL}/api/users/login`, {\n            method: \"POST\",\n            headers: makeHeader(),\n            body: JSON.stringify({\n                user: {\n                    username,\n                    password\n                }\n            })\n        })\n        const responseObj = await response.json();\n        console.log('responseObjSignIn', responseObj) \n        if (responseObj.data) {\n            setToken(responseObj.data.token);\n        }\n    } catch(error){\n        console.error(error);\n    }\n}\n\nexport async function fetchUserData() {\n    try {\n        const response = await fetch(`${API_URL}/users/me`, {\n            header: makeHeader(),\n        })\n        const responseObj = await response.json();\n        console.log('responseObjUserData', responseObj)\n    } catch(error) {\n        console.error(error)\n    }\n}\n\nexport async function fetchActivities() {\n    try{\n        const response = await fetch(`${API_URL}/api/activities`)\n        const data = await response.json();\n        console.log('data', data)\n\n    } catch(error) {\n      console.error(error)\n    }\n}\nfetchActivities();\n\n// export async function createActivity() {\n    \n// }"]},"metadata":{},"sourceType":"module"}